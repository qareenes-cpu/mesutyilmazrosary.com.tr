const translations = {
    tr: {
        nav_vitrin: "Vitrin",
        nav_sorgula: "Sorgula",
        nav_iletisim: "İletişim",
        // Contact Page
        contact_title: "Bize Ulaşın",
        contact_phone: "TELEFON",
        contact_email: "E-POSTA",
        contact_whatsapp: "WHATSAPP",
        contact_appt_title: "ÖZEL RANDEVU ALIN",
        contact_appt_desc: "Koleksiyonumuzu yakından incelemek ve özel tasarımlarımız hakkında bilgi almak için randevu oluşturabilirsiniz.",
        contact_form_name: "Adınız Soyadınız",
        contact_form_phone: "Telefon Numaranız",
        contact_form_btn: "Randevu Talebi Gönder",

        hero_title: "Zamanın Ötesinde",
        hero_subtitle: "Geçmişin ustalığı, bugünün mirası. Her bir parça, bir hikaye anlatır.",
        btn_explore: "Koleksiyonu Keşfet &rarr;",
        section_best: "En İyiler",
        card_1_title: "Osmanlı Sıkma Kehribar",
        card_1_desc: "Saray İşçiliği",
        card_2_title: "Gümüş İşlemeli Oltu",
        card_2_desc: "Klasik Seri",
        card_3_title: "Usta İşlemeli Kuka",
        card_3_desc: "Doğal Doku",
        btn_view_all: "Tüm Eserleri Gör &rarr;",
        phil_title: "Yalnızca Ustalık.",
        phil_text: "Bu vitrin, sıradan bir sergi alanı değil. El emeğinin ve sabrın kutsandığı bir hafıza merkezi.",
        archive_text: "\"Ustalık, sabırdır. Sabır ise zamanın ötesine geçebilmektir.\"",
        footer_copy: "© 2026 Mesut Yılmaz Tesbih Vitrini. Tüm hakları saklıdır."
    },
    en: {
        nav_vitrin: "Showcase",
        nav_sorgula: "Inquire",
        nav_iletisim: "Contact",
        // Contact Page
        contact_title: "Contact Us",
        contact_phone: "PHONE",
        contact_email: "EMAIL",
        contact_whatsapp: "WHATSAPP",
        contact_appt_title: "BOOK A PRIVATE APPOINTMENT",
        contact_appt_desc: "You can book an appointment to examine our collection closely and get information about our special designs.",
        contact_form_name: "Your Name",
        contact_form_phone: "Your Phone Number",
        contact_form_btn: "Send Appointment Request",

        hero_title: "Beyond Time",
        hero_subtitle: "Mastery of the past, legacy of today. Every piece tells a story.",
        btn_explore: "Explore Collection &rarr;",
        section_best: "Top Picks",
        card_1_title: "Ottoman Pressed Amber",
        card_1_desc: "Palace Craftsmanship",
        card_2_title: "Silver Inlaid Oltu",
        card_2_desc: "Classic Series",
        card_3_title: "Master Carved Kuka",
        card_3_desc: "Natural Texture",
        btn_view_all: "View All Pieces &rarr;",
        phil_title: "Pure Mastery.",
        phil_text: "This showcase is not just an exhibition. It is a memory center where handcraft and patience are sanctified.",
        archive_text: "\"Mastery is patience. Patience is the ability to go beyond time.\"",
        footer_copy: "© 2026 Mesut Yılmaz Rosary Showcase. All rights reserved."
    },
    de: {
        nav_vitrin: "Vitrine",
        nav_sorgula: "Abfrage",
        nav_iletisim: "Kontakt",
        // Contact Page
        contact_title: "Kontaktieren Sie uns",
        contact_phone: "TELEFON",
        contact_email: "E-MAIL",
        contact_whatsapp: "WHATSAPP",
        contact_appt_title: "PRIVATER TERMIN",
        contact_appt_desc: "Sie können einen Termin vereinbaren, um unsere Kollektion aus der Nähe zu betrachten und Informationen zu erhalten.",
        contact_form_name: "Ihr Name",
        contact_form_phone: "Ihre Telefonnummer",
        contact_form_btn: "Terminanfrage Senden",

        hero_title: "Jenseits der Zeit",
        hero_subtitle: "Meisterschaft der Vergangenheit, Erbe von heute. Jedes Stück erzählt eine Geschichte.",
        btn_explore: "Kollektion Entdecken &rarr;",
        section_best: "Beste Stücke",
        card_1_title: "Osmanischer Bernstein",
        card_1_desc: "Palast-Handwerkskunst",
        card_2_title: "Silber Oltu-Stein",
        card_2_desc: "Klassische Serie",
        card_3_title: "Meister Kuka",
        card_3_desc: "Natürliche Textur",
        btn_view_all: "Alle Werke Ansehen &rarr;",
        phil_title: "Reine Meisterschaft.",
        phil_text: "Diese Vitrine ist nicht nur eine Ausstellung. Es ist ein Gedächtniszentrum, in dem Handarbeit und Geduld geheiligt werden.",
        archive_text: "\"Meisterschaft ist Geduld. Geduld ist die Fähigkeit, über die Zeit hinauszugehen.\"",
        footer_copy: "© 2026 Mesut Yılmaz Rosary Showcase. Alle Rechte vorbehalten."
    },
    fr: {
        nav_vitrin: "Vitrine",
        nav_sorgula: "Requête",
        nav_iletisim: "Contact",
        // Contact Page
        contact_title: "Contactez-nous",
        contact_phone: "TÉLÉPHONE",
        contact_email: "E-MAIL",
        contact_whatsapp: "WHATSAPP",
        contact_appt_title: "RENDEZ-VOUS PRIVÉ",
        contact_appt_desc: "Vous pouvez prendre rendez-vous pour examiner notre collection de près et obtenir des informations.",
        contact_form_name: "Votre Nom",
        contact_form_phone: "Votre Numéro de Téléphone",
        contact_form_btn: "Envoyer la Demande",

        hero_title: "Au-delà du Temps",
        hero_subtitle: "Maîtrise du passé, héritage d'aujourd'hui. Chaque pièce raconte une histoire.",
        btn_explore: "Explorer la Collection &rarr;",
        section_best: "Meilleurs Choix",
        card_1_title: "Ambre Pressé Ottoman",
        card_1_desc: "Artisanat du Palais",
        card_2_title: "Oltu Incrusté d'Argent",
        card_2_desc: "Série Classique",
        card_3_title: "Kuka Sculpté par Maître",
        card_3_desc: "Texture Naturelle",
        btn_view_all: "Voir Toutes les Pièces &rarr;",
        phil_title: "Maîtrise Pure.",
        phil_text: "Cette vitrine n'est pas seulement une exposition. C'est un centre de mémoire où l'artisanat et la patience sont sanctifiés.",
        archive_text: "\"La maîtrise est patience. La patience est la capacité d'aller au-delà du temps.\"",
        footer_copy: "© 2026 Mesut Yılmaz Rosary Showcase. Tous droits réservés."
    },
    ar: {
        nav_vitrin: "واجهة العرض",
        nav_sorgula: "استفسار",
        nav_iletisim: "اتصال",
        // Contact Page
        contact_title: "اتصل بنا",
        contact_phone: "هاتف",
        contact_email: "البريد الإلكتروني",
        contact_whatsapp: "واتساب",
        contact_appt_title: "احجز موعداً خاصاً",
        contact_appt_desc: "يمكنك حجز موعد لفحص مجموعتنا عن كثب والحصول على معلومات حول تصميماتنا الخاصة.",
        contact_form_name: "اسمك",
        contact_form_phone: "رقم هاتفك",
        contact_form_btn: "إرسال طلب موعد",

        hero_title: "ما وراء الزمن",
        hero_subtitle: "إتقان الماضي، إرث اليوم. كل قطعة تحكي قصة.",
        btn_explore: "اكتشف المجموعة &larr;",
        section_best: "أفضل الاختيارات",
        card_1_title: "كهرمان عثماني مضغوط",
        card_1_desc: "حرفة القصر",
        card_2_title: "أولتو مرصع بالفضة",
        card_2_desc: "السلسلة الكلاسيكية",
        card_3_title: "كوكا منحوتة ببراعة",
        card_3_desc: "ملمس طبيعي",
        btn_view_all: "عرض جميع القطع &larr;",
        phil_title: "إتقان خالص.",
        phil_text: "هذه الواجهة ليست مجرد معرض. إنها مركز ذاكرة حيث يتم تقديس العمل اليدوي والصبر.",
        archive_text: "\"الإتقان هو الصبر. الصبر هو القدرة على تجاوز الزمن.\"",
        footer_copy: "© 2026 مسعود يلماز لعرض السبح. جميع الحقوق محفوظة."
    }
};

function setLanguage(lang) {
    if (!translations[lang]) return;

    localStorage.setItem('selectedLang', lang);
    document.documentElement.lang = lang;

    // RTL for Arabic
    if (lang === 'ar') {
        document.body.style.direction = 'rtl';
        document.body.style.fontFamily = "'Amiri', 'Inter', sans-serif"; // Need to add Amiri font for better Arabic
    } else {
        document.body.style.direction = 'ltr';
        document.body.style.fontFamily = "var(--font-body)";
    }

    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.innerHTML = translations[lang][key];
            }
        }
    });

    // Update active state in selector
    document.querySelectorAll('.lang-option').forEach(opt => {
        opt.classList.remove('active');
        if (opt.dataset.lang === lang) opt.classList.add('active');
    });

    // Update displayed current lang
    const currentLangDisplay = document.getElementById('current-lang-display');
    if (currentLangDisplay) {
        currentLangDisplay.textContent = lang.toUpperCase();
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('selectedLang') || 'tr';
    setLanguage(savedLang);

    // Mobile Dropdown Toggle
    const langBtn = document.querySelector('.lang-btn');
    const langDropdown = document.querySelector('.lang-dropdown');

    if (langBtn && langDropdown) {
        langBtn.addEventListener('click', (e) => {
            // Only relevant for mobile where hover doesn't exist/work well
            if (window.innerWidth <= 768) {
                e.preventDefault();
                langDropdown.classList.toggle('active');
            }
        });
    }

    document.querySelectorAll('.lang-option').forEach(opt => {
        opt.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = e.target.dataset.lang;
            setLanguage(lang);
            // Close dropdown on mobile selection
            if (langDropdown) langDropdown.classList.remove('active');
        });
    });
});
